
> gemini-desktop@0.6.0 test
> vitest run --config config/vitest/vitest.config.ts


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/home/benjamin/repos/gemini-desktop[39m

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2minitial state[2m > [22m[2mreturns correct initial state
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2minitial state[2m > [22m[2mprovides action functions
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2mIPC event subscriptions[2m > [22m[2msubscribes to onUpdateAvailable on mount
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mreturns correct menu structure
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2mIPC event subscriptions[2m > [22m[2msubscribes to onUpdateDownloaded on mount
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | src/renderer/context/ThemeContext.test.tsx[2m > [22m[2mThemeContext[2m > [22m[2mInitialization[2m > [22m[2minitializes with theme from Electron (object format)
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'dark'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mFile menu[2m > [22m[2mhas New Window item (disabled placeholder)
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2mIPC event subscriptions[2m > [22m[2msubscribes to onUpdateError on mount
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2mIPC event subscriptions[2m > [22m[2msubscribes to onUpdateNotAvailable on mount
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mFile menu[2m > [22m[2mhas separator after New Window
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2mIPC event subscriptions[2m > [22m[2msubscribes to onDownloadProgress on mount
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mFile menu[2m > [22m[2mhas Export as PDF item and action works
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2mIPC event subscriptions[2m > [22m[2mcalls cleanup functions on unmount
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mFile menu[2m > [22m[2mhas Export as Markdown item and action works
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mFile menu[2m > [22m[2mhas separator after export items
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2mupdate available event[2m > [22m[2msets notification state when update is available
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | src/renderer/context/ThemeContext.browser.test.tsx[2m > [22m[2mThemeContext - Browser Only Mode[2m > [22m[2mSystem Theme Detection via matchMedia[2m > [22m[2mdetects dark mode from matchMedia when no electronAPI
[22m[39m[ThemeContext] No Electron API, using browser defaults

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mFile menu[2m > [22m[2mhas Sign in to Google item and action works
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2minitialization[2m > [22m[2mshould initialize with defaults when Electron API is unavailable
[22m[39m[IndividualHotkeysContext] No Electron API, using defaults

[90mstdout[2m | src/renderer/context/ThemeContext.test.tsx[2m > [22m[2mThemeContext[2m > [22m[2mInitialization[2m > [22m[2mhandles legacy string format from getTheme
[22m[39m[ThemeContext] Using legacy theme format: light

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2mupdate downloaded event[2m > [22m[2msets notification state with pending flag when downloaded
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2mupdate error event[2m > [22m[2msets error notification state
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mFile menu[2m > [22m[2mhas Options item
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mFile menu[2m > [22m[2mhas separator after Options
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2mupdate not available event[2m > [22m[2msets notification state when no update is available
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2mdownload progress event[2m > [22m[2msets progress state when download is in progress
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2mdownload progress event[2m > [22m[2mhandles progress updates from 0 to 100
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2minitialization[2m > [22m[2mshould initialize from Electron API when available
[22m[39m[IndividualHotkeysContext] Individual hotkeys initialized: {
  alwaysOnTop: [33mfalse[39m,
  bossKey: [33mtrue[39m,
  quickChat: [33mfalse[39m,
  printToPdf: [33mtrue[39m
}

[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2minitialization[2m > [22m[2mshould initialize from Electron API when available
[22m[39m[IndividualHotkeysContext] Accelerators initialized: {
  alwaysOnTop: [32m'Control+Alt+T'[39m,
  bossKey: [32m'Control+Alt+B'[39m,
  quickChat: [32m'Control+Alt+X'[39m,
  printToPdf: [32m'Control+Alt+P'[39m
}

[90mstdout[2m | src/renderer/context/ThemeContext.test.tsx[2m > [22m[2mThemeContext[2m > [22m[2mTheme Updates[2m > [22m[2mupdates theme when set via setTheme
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/context/ThemeContext.browser.test.tsx[2m > [22m[2mThemeContext - Browser Only Mode[2m > [22m[2mSystem Theme Detection via matchMedia[2m > [22m[2mdetects light mode from matchMedia when no electronAPI
[22m[39m[ThemeContext] No Electron API, using browser defaults

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2mactions[2m > [22m[2mdismissNotification hides toast
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | src/renderer/context/ToastContext.test.tsx[2m > [22m[2mToastContext[2m > [22m[2mshowToast[2m > [22m[2madds toast to array and returns ID
[22m[39mReceived `true` for a non-boolean attribute `layout`.

If you want to write it to the DOM, pass a string instead: layout="true" or layout={value.toString()}.

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mFile menu[2m > [22m[2mExit action calls electronAPI.closeWindow()
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2mactions[2m > [22m[2mhandleLater hides toast but keeps pending flag
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mView menu[2m > [22m[2mReload action calls window.location.reload
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mView menu[2m > [22m[2mToggle Fullscreen action calls electronAPI.toggleFullscreen()
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mView menu[2m > [22m[2mhas Always On Top item with correct properties
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/context/ThemeContext.test.tsx[2m > [22m[2mThemeContext[2m > [22m[2mTheme Updates[2m > [22m[2mupdates theme when receiving external change (object format)
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/context/ThemeContext.test.tsx[2m > [22m[2mThemeContext[2m > [22m[2mTheme Updates[2m > [22m[2mupdates theme when receiving external change (object format)
[22m[39m[ThemeContext] Theme updated from external source: { preference: [32m'light'[39m, effectiveTheme: [32m'light'[39m }

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mView menu[2m > [22m[2mAlways On Top action calls setAlwaysOnTop and updates state
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/context/ThemeContext.test.tsx[2m > [22m[2mThemeContext[2m > [22m[2mTheme Updates[2m > [22m[2mhandles legacy string format in onThemeChanged
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/context/ThemeContext.test.tsx[2m > [22m[2mThemeContext[2m > [22m[2mTheme Updates[2m > [22m[2mhandles legacy string format in onThemeChanged
[22m[39m[ThemeContext] Using legacy change format: dark

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mView menu[2m > [22m[2mhas separator before Zoom In
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/toast/ToastContainer.test.tsx[2m > [22m[2mToastContainer[2m > [22m[2mrendering[2m > [22m[2mrenders correct number of toasts
[22m[39mReceived `true` for a non-boolean attribute `layout`.

If you want to write it to the DOM, pass a string instead: layout="true" or layout={value.toString()}.

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mView menu[2m > [22m[2mhas separator after Zoom Out
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2mactions[2m > [22m[2minstallUpdate calls electronAPI and clears pending state
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | src/renderer/context/ThemeContext.test.tsx[2m > [22m[2mThemeContext[2m > [22m[2mTheme Updates[2m > [22m[2mhandles system theme preference
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/hooks/useUpdateNotifications.test.ts[2m > [22m[2museUpdateNotifications[2m > [22m[2mgraceful fallback[2m > [22m[2mhandles missing electronAPI gracefully
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mView menu[2m > [22m[2msubscribes to always-on-top changes on mount
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2minitialization[2m > [22m[2mshould handle API errors gracefully
[22m[39m[IndividualHotkeysContext] Failed to initialize individual hotkeys: Error: API error
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/context/IndividualHotkeysContext.test.tsx:92:65
    at [90mfile:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:145:11
    at [90mfile:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:915:26
    at [90mfile:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1209:10[90m)[39m
    at [90mfile:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:37
    at Traces.$ [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.CCmnQaNT.js:142:27[90m)[39m
    at trace [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mvitest[24m/dist/chunks/test.B8ej_ZHS.js:239:21[90m)[39m
    at runTest [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:12[90m)[39m

[90mstdout[2m | src/renderer/context/ThemeContext.test.tsx[2m > [22m[2mThemeContext[2m > [22m[2mError Handling[2m > [22m[2mhandles setTheme error gracefully
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mRendering[2m > [22m[2mrenders the container
[22m[39m[QuickChat] Loading initial prediction status...

[90mstdout[2m | src/renderer/context/ThemeContext.browser.test.tsx[2m > [22m[2mThemeContext - Browser Only Mode[2m > [22m[2mTheme Changes in Browser-Only Mode[2m > [22m[2mcan switch between themes without Electron API
[22m[39m[ThemeContext] No Electron API, using browser defaults

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mRendering[2m > [22m[2mrenders the container
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

 [32mâœ“[39m src/renderer/hooks/useUpdateNotifications.test.ts [2m([22m[2m18 tests[22m[2m)[22m[33m 356[2mms[22m[39m
[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2minitialization[2m > [22m[2mshould handle invalid settings format from API
[22m[39m[IndividualHotkeysContext] Unexpected settings format: { invalid: [32m'data'[39m }

[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2minitialization[2m > [22m[2mshould handle invalid settings format from API
[22m[39m[IndividualHotkeysContext] Accelerators initialized: {
  alwaysOnTop: [32m'Control+Alt+T'[39m,
  bossKey: [32m'Control+Alt+B'[39m,
  quickChat: [32m'Control+Alt+X'[39m,
  printToPdf: [32m'Control+Alt+P'[39m
}

[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2msetEnabled[2m > [22m[2mshould call Electron API when setting individual hotkey
[22m[39m[IndividualHotkeysContext] Individual hotkeys initialized: { alwaysOnTop: [33mtrue[39m, bossKey: [33mtrue[39m, quickChat: [33mtrue[39m, printToPdf: [33mtrue[39m }

[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2msetEnabled[2m > [22m[2mshould call Electron API when setting individual hotkey
[22m[39m[IndividualHotkeysContext] Accelerators initialized: {
  alwaysOnTop: [32m'Control+Alt+T'[39m,
  bossKey: [32m'Control+Alt+B'[39m,
  quickChat: [32m'Control+Alt+X'[39m,
  printToPdf: [32m'Control+Alt+P'[39m
}

[90mstdout[2m | src/renderer/context/ThemeContext.test.tsx[2m > [22m[2mThemeContext[2m > [22m[2mLegacy format handling (system theme)[2m > [22m[2mhandles legacy system format in getTheme
[22m[39m[ThemeContext] Using legacy theme format: system

[90mstdout[2m | src/renderer/context/ThemeContext.test.tsx[2m > [22m[2mThemeContext[2m > [22m[2mLegacy format handling (system theme)[2m > [22m[2mhandles legacy system format in onThemeChanged
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/context/ThemeContext.test.tsx[2m > [22m[2mThemeContext[2m > [22m[2mLegacy format handling (system theme)[2m > [22m[2mhandles legacy system format in onThemeChanged
[22m[39m[ThemeContext] Using legacy change format: system

[90mstderr[2m | src/renderer/context/ThemeContext.test.tsx[2m > [22m[2mThemeContext[2m > [22m[2mLegacy format handling (system theme)[2m > [22m[2mhandles malformed theme data from IPC (partial object)
[22m[39m[ThemeContext] Received invalid theme data: { preference: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mView menu[2m > [22m[2mhandles getAlwaysOnTop rejection gracefully
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
[useMenuDefinitions] Failed to get always-on-top state: Error: Test error
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/titlebar/useMenuDefinitions.test.tsx:262:66
    at [90mfile:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:145:11
    at [90mfile:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:915:26
    at [90mfile:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1209:10[90m)[39m
    at [90mfile:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:37
    at Traces.$ [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.CCmnQaNT.js:142:27[90m)[39m
    at trace [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mvitest[24m/dist/chunks/test.B8ej_ZHS.js:239:21[90m)[39m
    at runTest [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:12[90m)[39m

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mHelp menu[2m > [22m[2mCheck for Updates action calls electronAPI.checkForUpdates()
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mHelp menu[2m > [22m[2mhas separator after Check for Updates
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/useMenuDefinitions.test.tsx[2m > [22m[2museMenuDefinitions[2m > [22m[2mHelp menu[2m > [22m[2mAbout action opens options window
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/context/ThemeContext.browser.test.tsx[2m > [22m[2mThemeContext - Browser Only Mode[2m > [22m[2mTheme Changes in Browser-Only Mode[2m > [22m[2mresolves system theme to matchMedia preference
[22m[39m[ThemeContext] No Electron API, using browser defaults

[90mstdout[2m | src/renderer/context/ThemeContext.browser.test.tsx[2m > [22m[2mThemeContext - Browser Only Mode[2m > [22m[2mInitialization without electronAPI[2m > [22m[2mstarts with system theme preference when no electronAPI
[22m[39m[ThemeContext] No Electron API, using browser defaults

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mRendering[2m > [22m[2mrenders the input field
[22m[39m[QuickChat] Loading initial prediction status...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mRendering[2m > [22m[2mrenders the input field
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mRendering[2m > [22m[2mrenders the submit button
[22m[39m[QuickChat] Loading initial prediction status...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mRendering[2m > [22m[2mrenders the submit button
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

 [32mâœ“[39m src/renderer/context/ThemeContext.test.tsx [2m([22m[2m17 tests[22m[2m | [22m[33m4 skipped[39m[2m)[22m[33m 393[2mms[22m[39m
 [32mâœ“[39m src/renderer/components/titlebar/useMenuDefinitions.test.tsx [2m([22m[2m22 tests[22m[2m)[22m[33m 390[2mms[22m[39m
 [32mâœ“[39m tests/unit/renderer/hooks/useMenuDefinitions.test.tsx [2m([22m[2m11 tests[22m[2m)[22m[33m 414[2mms[22m[39m
 [32mâœ“[39m src/renderer/components/common/CapsuleToggle.test.tsx [2m([22m[2m20 tests[22m[2m)[22m[33m 377[2mms[22m[39m
 [32mâœ“[39m src/renderer/context/ThemeContext.browser.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 431[2mms[22m[39m
[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2msetEnabled[2m > [22m[2mshould handle setEnabled errors gracefully
[22m[39m[IndividualHotkeysContext] Individual hotkeys initialized: { alwaysOnTop: [33mtrue[39m, bossKey: [33mtrue[39m, quickChat: [33mtrue[39m, printToPdf: [33mtrue[39m }

[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2msetEnabled[2m > [22m[2mshould handle setEnabled errors gracefully
[22m[39m[IndividualHotkeysContext] Accelerators initialized: {
  alwaysOnTop: [32m'Control+Alt+T'[39m,
  bossKey: [32m'Control+Alt+B'[39m,
  quickChat: [32m'Control+Alt+X'[39m,
  printToPdf: [32m'Control+Alt+P'[39m
}

[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2msetEnabled[2m > [22m[2mshould work when Electron API is unavailable
[22m[39m[IndividualHotkeysContext] No Electron API, using defaults

[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2mexternal updates[2m > [22m[2mshould update when receiving external changes
[22m[39m[IndividualHotkeysContext] Individual hotkeys initialized: { alwaysOnTop: [33mtrue[39m, bossKey: [33mtrue[39m, quickChat: [33mtrue[39m, printToPdf: [33mtrue[39m }

[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2mexternal updates[2m > [22m[2mshould update when receiving external changes
[22m[39m[IndividualHotkeysContext] Accelerators initialized: {
  alwaysOnTop: [32m'Control+Alt+T'[39m,
  bossKey: [32m'Control+Alt+B'[39m,
  quickChat: [32m'Control+Alt+X'[39m,
  printToPdf: [32m'Control+Alt+P'[39m
}

[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2mexternal updates[2m > [22m[2mshould update when receiving external changes
[22m[39m[IndividualHotkeysContext] Individual hotkeys updated from external source: {
  alwaysOnTop: [33mtrue[39m,
  bossKey: [33mfalse[39m,
  quickChat: [33mtrue[39m,
  printToPdf: [33mtrue[39m
}

[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2mexternal updates[2m > [22m[2mshould ignore invalid data from change events
[22m[39m[IndividualHotkeysContext] Individual hotkeys initialized: { alwaysOnTop: [33mtrue[39m, bossKey: [33mtrue[39m, quickChat: [33mtrue[39m, printToPdf: [33mtrue[39m }

[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2mexternal updates[2m > [22m[2mshould ignore invalid data from change events
[22m[39m[IndividualHotkeysContext] Accelerators initialized: {
  alwaysOnTop: [32m'Control+Alt+T'[39m,
  bossKey: [32m'Control+Alt+B'[39m,
  quickChat: [32m'Control+Alt+X'[39m,
  printToPdf: [32m'Control+Alt+P'[39m
}

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mRendering[2m > [22m[2mauto-focuses the input on mount
[22m[39m[QuickChat] Loading initial prediction status...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mRendering[2m > [22m[2mauto-focuses the input on mount
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mInput Handling[2m > [22m[2mupdates value when typing
[22m[39m[QuickChat] Loading initial prediction status...
[QuickChat] Prediction skipped: { isPredictionEnabled: [33mfalse[39m, isModelReady: [33mfalse[39m, hasContent: [33mtrue[39m }
[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mInput Handling[2m > [22m[2mupdates value when typing
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mInput Handling[2m > [22m[2menables submit button when input has text
[22m[39m[QuickChat] Loading initial prediction status...
[QuickChat] Prediction skipped: { isPredictionEnabled: [33mfalse[39m, isModelReady: [33mfalse[39m, hasContent: [33mtrue[39m }
[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mInput Handling[2m > [22m[2menables submit button when input has text
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m src/renderer/components/toast/Toast.test.tsx [2m([22m[2m28 tests[22m[2m)[22m[33m 613[2mms[22m[39m
[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mInput Handling[2m > [22m[2mdisables submit button when input is empty
[22m[39m[QuickChat] Loading initial prediction status...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mInput Handling[2m > [22m[2mdisables submit button when input is empty
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mInput Handling[2m > [22m[2mdisables submit button when input is only whitespace
[22m[39m[QuickChat] Loading initial prediction status...
[QuickChat] Prediction skipped: { isPredictionEnabled: [33mfalse[39m, isModelReady: [33mfalse[39m, hasContent: [33mfalse[39m }
[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mInput Handling[2m > [22m[2mdisables submit button when input is only whitespace
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mSubmit Functionality[2m > [22m[2mcalls submitQuickChat when clicking submit button
[22m[39m[QuickChat] Loading initial prediction status...
[QuickChat] Prediction skipped: { isPredictionEnabled: [33mfalse[39m, isModelReady: [33mfalse[39m, hasContent: [33mtrue[39m }
[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mSubmit Functionality[2m > [22m[2mcalls submitQuickChat when clicking submit button
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mSubmit Functionality[2m > [22m[2mclears input after submit
[22m[39m[QuickChat] Loading initial prediction status...
[QuickChat] Prediction skipped: { isPredictionEnabled: [33mfalse[39m, isModelReady: [33mfalse[39m, hasContent: [33mtrue[39m }
[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mSubmit Functionality[2m > [22m[2mclears input after submit
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2mcleanup[2m > [22m[2mshould cleanup subscription on unmount
[22m[39m[IndividualHotkeysContext] Individual hotkeys initialized: { alwaysOnTop: [33mtrue[39m, bossKey: [33mtrue[39m, quickChat: [33mtrue[39m, printToPdf: [33mtrue[39m }

[90mstdout[2m | src/renderer/context/IndividualHotkeysContext.test.tsx[2m > [22m[2mIndividualHotkeysContext[2m > [22m[2mcleanup[2m > [22m[2mshould cleanup subscription on unmount
[22m[39m[IndividualHotkeysContext] Accelerators initialized: {
  alwaysOnTop: [32m'Control+Alt+T'[39m,
  bossKey: [32m'Control+Alt+B'[39m,
  quickChat: [32m'Control+Alt+X'[39m,
  printToPdf: [32m'Control+Alt+P'[39m
}

 [32mâœ“[39m src/renderer/context/ToastContext.test.tsx [2m([22m[2m20 tests[22m[2m)[22m[33m 665[2mms[22m[39m
[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mSubmit Functionality[2m > [22m[2mdoes not call submitQuickChat when input is empty
[22m[39m[QuickChat] Loading initial prediction status...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mSubmit Functionality[2m > [22m[2mdoes not call submitQuickChat when input is empty
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mSubmit Functionality[2m > [22m[2mtrims whitespace from input before submit
[22m[39m[QuickChat] Loading initial prediction status...
[QuickChat] Prediction skipped: { isPredictionEnabled: [33mfalse[39m, isModelReady: [33mfalse[39m, hasContent: [33mtrue[39m }
[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mSubmit Functionality[2m > [22m[2mtrims whitespace from input before submit
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m src/renderer/context/IndividualHotkeysContext.test.tsx [2m([22m[2m11 tests[22m[2m)[22m[33m 670[2mms[22m[39m
[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mEdge Cases[2m > [22m[2mdoes not submit on Enter when input is empty
[22m[39m[QuickChat] Loading initial prediction status...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mEdge Cases[2m > [22m[2mdoes not submit on Enter when input is empty
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mEdge Cases[2m > [22m[2mignores other keys
[22m[39m[QuickChat] Loading initial prediction status...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mEdge Cases[2m > [22m[2mignores other keys
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mKeyboard Shortcuts[2m > [22m[2msubmits on Enter key
[22m[39m[QuickChat] Loading initial prediction status...
[QuickChat] Prediction skipped: { isPredictionEnabled: [33mfalse[39m, isModelReady: [33mfalse[39m, hasContent: [33mtrue[39m }
[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mKeyboard Shortcuts[2m > [22m[2msubmits on Enter key
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m src/renderer/components/toast/ToastContainer.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[33m 751[2mms[22m[39m
[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mKeyboard Shortcuts[2m > [22m[2mcalls cancelQuickChat on Escape key when no prediction is showing
[22m[39m[QuickChat] Loading initial prediction status...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mKeyboard Shortcuts[2m > [22m[2mcalls cancelQuickChat on Escape key when no prediction is showing
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mKeyboard Shortcuts[2m > [22m[2mdoes not submit on Shift+Enter
[22m[39m[QuickChat] Loading initial prediction status...
[QuickChat] Prediction skipped: { isPredictionEnabled: [33mfalse[39m, isModelReady: [33mfalse[39m, hasContent: [33mtrue[39m }
[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mKeyboard Shortcuts[2m > [22m[2mdoes not submit on Shift+Enter
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mWithout ElectronAPI[2m > [22m[2mhandles missing electronAPI gracefully
[22m[39m[QuickChat] Loading initial prediction status...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mWithout ElectronAPI[2m > [22m[2mdoes not throw when submitting without electronAPI
[22m[39m[QuickChat] Loading initial prediction status...
[QuickChat] Prediction skipped: { isPredictionEnabled: [33mfalse[39m, isModelReady: [33mfalse[39m, hasContent: [33mtrue[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mdoes not show ghost text when prediction disabled
[22m[39m[QuickChat] Loading initial prediction status...
[QuickChat] Prediction skipped: { isPredictionEnabled: [33mfalse[39m, isModelReady: [33mfalse[39m, hasContent: [33mtrue[39m }
[QuickChat] Initial prediction status: { enabled: [33mfalse[39m, status: [32m'not-downloaded'[39m, isReady: [33mfalse[39m }

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mdoes not show ghost text when prediction disabled
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mdoes not show ghost text when model not ready
[22m[39m[QuickChat] Loading initial prediction status...
[QuickChat] Prediction skipped: { isPredictionEnabled: [33mfalse[39m, isModelReady: [33mfalse[39m, hasContent: [33mtrue[39m }
[QuickChat] Initial prediction status: { enabled: [33mtrue[39m, status: [32m'downloading'[39m, isReady: [33mfalse[39m }

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mdoes not show ghost text when model not ready
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mshows ghost text when prediction is available
[22m[39m[QuickChat] Loading initial prediction status...

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mshows ghost text when prediction is available
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mshows ghost text when prediction is available
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mtrue[39m, status: [32m'ready'[39m, isReady: [33mtrue[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mshows ghost text when prediction is available
[22m[39m[QuickChat] Scheduling prediction request for: Hello 

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mshows ghost text when prediction is available
[22m[39m[QuickChat] Requesting prediction from LLM...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mshows ghost text when prediction is available
[22m[39m[QuickChat] Prediction received: world!

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mshows ghost text when prediction is available
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mghost text contains the prediction
[22m[39m[QuickChat] Loading initial prediction status...

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mghost text contains the prediction
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mghost text contains the prediction
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mtrue[39m, status: [32m'ready'[39m, isReady: [33mtrue[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mghost text contains the prediction
[22m[39m[QuickChat] Scheduling prediction request for: Hello 

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mghost text contains the prediction
[22m[39m[QuickChat] Requesting prediction from LLM...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mghost text contains the prediction
[22m[39m[QuickChat] Prediction received: world!

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mghost text contains the prediction
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mclears ghost text when typing continues
[22m[39m[QuickChat] Loading initial prediction status...

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mclears ghost text when typing continues
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mclears ghost text when typing continues
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mtrue[39m, status: [32m'ready'[39m, isReady: [33mtrue[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mclears ghost text when typing continues
[22m[39m[QuickChat] Scheduling prediction request for: Hello 

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mclears ghost text when typing continues
[22m[39m[QuickChat] Requesting prediction from LLM...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mclears ghost text when typing continues
[22m[39m[QuickChat] Prediction received: world!

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mclears ghost text when typing continues
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mclears ghost text when typing continues
[22m[39m[QuickChat] Scheduling prediction request for: Hello world

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mclears ghost text on blur
[22m[39m[QuickChat] Loading initial prediction status...

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mclears ghost text on blur
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mclears ghost text on blur
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mtrue[39m, status: [32m'ready'[39m, isReady: [33mtrue[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mclears ghost text on blur
[22m[39m[QuickChat] Scheduling prediction request for: Hello 

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mclears ghost text on blur
[22m[39m[QuickChat] Requesting prediction from LLM...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mclears ghost text on blur
[22m[39m[QuickChat] Prediction received: world!

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mclears ghost text on blur
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mclears ghost text on blur
[22m[39m[QuickChat] Input blurred, clearing prediction

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mrequests prediction after debounce delay
[22m[39m[QuickChat] Loading initial prediction status...

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mrequests prediction after debounce delay
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mrequests prediction after debounce delay
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mtrue[39m, status: [32m'ready'[39m, isReady: [33mtrue[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mrequests prediction after debounce delay
[22m[39m[QuickChat] Scheduling prediction request for: Hello 

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mrequests prediction after debounce delay
[22m[39m[QuickChat] Requesting prediction from LLM...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mrequests prediction after debounce delay
[22m[39m[QuickChat] Prediction received: world!

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Ghost Text[2m > [22m[2mrequests prediction after debounce delay
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2maccepts prediction on Tab key press
[22m[39m[QuickChat] Loading initial prediction status...

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2maccepts prediction on Tab key press
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2maccepts prediction on Tab key press
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mtrue[39m, status: [32m'ready'[39m, isReady: [33mtrue[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2maccepts prediction on Tab key press
[22m[39m[QuickChat] Scheduling prediction request for: Hello 

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2maccepts prediction on Tab key press
[22m[39m[QuickChat] Requesting prediction from LLM...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2maccepts prediction on Tab key press
[22m[39m[QuickChat] Prediction received: world!

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2maccepts prediction on Tab key press
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2maccepts prediction on Tab key press
[22m[39m[QuickChat] Tab pressed, accepting prediction: world!

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mdismisses prediction on Escape key instead of canceling
[22m[39m[QuickChat] Loading initial prediction status...

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mdismisses prediction on Escape key instead of canceling
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mdismisses prediction on Escape key instead of canceling
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mtrue[39m, status: [32m'ready'[39m, isReady: [33mtrue[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mdismisses prediction on Escape key instead of canceling
[22m[39m[QuickChat] Scheduling prediction request for: Hello 

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mdismisses prediction on Escape key instead of canceling
[22m[39m[QuickChat] Requesting prediction from LLM...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mdismisses prediction on Escape key instead of canceling
[22m[39m[QuickChat] Prediction received: world!

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mdismisses prediction on Escape key instead of canceling
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mdismisses prediction on Escape key instead of canceling
[22m[39m[QuickChat] Escape pressed, dismissing prediction

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mclears ghost text after accepting prediction
[22m[39m[QuickChat] Loading initial prediction status...

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mclears ghost text after accepting prediction
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mclears ghost text after accepting prediction
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mtrue[39m, status: [32m'ready'[39m, isReady: [33mtrue[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mclears ghost text after accepting prediction
[22m[39m[QuickChat] Scheduling prediction request for: Hello 

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mclears ghost text after accepting prediction
[22m[39m[QuickChat] Requesting prediction from LLM...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mclears ghost text after accepting prediction
[22m[39m[QuickChat] Prediction received: world!

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mclears ghost text after accepting prediction
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mclears ghost text after accepting prediction
[22m[39m[QuickChat] Tab pressed, accepting prediction: world!

[90mstderr[2m | tests/unit/renderer/TextPredictionSettings.test.tsx[2m > [22m[2mTextPredictionSettings[2m > [22m[2mDownload Progress[2m > [22m[2mupdates progress when download progress event received
[22m[39mAn update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mTab does nothing when no prediction available
[22m[39m[QuickChat] Loading initial prediction status...
[QuickChat] Prediction skipped: { isPredictionEnabled: [33mfalse[39m, isModelReady: [33mfalse[39m, hasContent: [33mtrue[39m }
[QuickChat] Initial prediction status: { enabled: [33mtrue[39m, status: [32m'ready'[39m, isReady: [33mtrue[39m }

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mTab does nothing when no prediction available
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mclears prediction on submit
[22m[39m[QuickChat] Loading initial prediction status...

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mclears prediction on submit
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mclears prediction on submit
[22m[39m[QuickChat] Initial prediction status: { enabled: [33mtrue[39m, status: [32m'ready'[39m, isReady: [33mtrue[39m }

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mclears prediction on submit
[22m[39m[QuickChat] Scheduling prediction request for: Hello 

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mclears prediction on submit
[22m[39m[QuickChat] Requesting prediction from LLM...

[90mstdout[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mclears prediction on submit
[22m[39m[QuickChat] Prediction received: world!

[90mstderr[2m | src/renderer/components/quickchat/QuickChatApp.test.tsx[2m > [22m[2mQuickChatApp[2m > [22m[2mText Prediction - Tab Key Acceptance[2m > [22m[2mclears prediction on submit
[22m[39mAn update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to QuickChatApp inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m src/renderer/components/quickchat/QuickChatApp.test.tsx [2m([22m[2m31 tests[22m[2m)[22m[33m 1776[2mms[22m[39m
 [32mâœ“[39m src/renderer/components/titlebar/TitlebarMenu.test.tsx [2m([22m[2m19 tests[22m[2m)[22m[33m 2077[2mms[22m[39m
       [33m[2mâœ“[22m[39m opens dropdown on click [33m 807[2mms[22m[39m
[90mstderr[2m | tests/unit/renderer/TextPredictionSettings.test.tsx[2m > [22m[2mTextPredictionSettings[2m > [22m[2mWithout ElectronAPI[2m > [22m[2mhandles missing electronAPI gracefully
[22m[39mAn update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m tests/unit/renderer/TextPredictionSettings.test.tsx [2m([22m[2m23 tests[22m[2m)[22m[33m 1169[2mms[22m[39m
 [32mâœ“[39m tests/unit/renderer/components/options/HotkeyAcceleratorInput.test.tsx [2m([22m[2m24 tests[22m[2m)[22m[33m 2636[2mms[22m[39m
       [33m[2mâœ“[22m[39m should render with default accelerator [33m 1003[2mms[22m[39m
[90mstdout[2m | src/renderer/context/ThemeContext.coverage.test.tsx[2m > [22m[2mThemeContext Coverage[2m > [22m[2mhandles setTheme error gracefully
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'light'[39m, effectiveTheme: [32m'light'[39m }

 [32mâœ“[39m src/renderer/context/ThemeContext.coverage.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 430[2mms[22m[39m
 [32mâœ“[39m src/renderer/utils/platform.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 77[2mms[22m[39m
[90mstdout[2m | src/renderer/context/UpdateToastContext.test.tsx[2m > [22m[2mUpdateToastContext[2m > [22m[2mUpdateToastProvider[2m > [22m[2mrenders children
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | src/renderer/context/UpdateToastContext.test.tsx[2m > [22m[2mUpdateToastContext[2m > [22m[2mUpdateToastProvider[2m > [22m[2mrenders toast when update is available
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | src/renderer/context/UpdateToastContext.test.tsx[2m > [22m[2mUpdateToastContext[2m > [22m[2mUpdateToastProvider[2m > [22m[2mrenders toast when update is available
[22m[39mAn update to UpdateToastProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/context/UpdateToastContext.test.tsx[2m > [22m[2mUpdateToastContext[2m > [22m[2mUpdateToastProvider[2m > [22m[2mrenders toast when update is available
[22m[39mReceived `true` for a non-boolean attribute `layout`.

If you want to write it to the DOM, pass a string instead: layout="true" or layout={value.toString()}.

[90mstdout[2m | src/renderer/context/UpdateToastContext.test.tsx[2m > [22m[2mUpdateToastContext[2m > [22m[2mUpdateToastProvider[2m > [22m[2mrenders Restart Now and Later buttons for downloaded state
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | src/renderer/context/UpdateToastContext.test.tsx[2m > [22m[2mUpdateToastContext[2m > [22m[2mUpdateToastProvider[2m > [22m[2mrenders Restart Now and Later buttons for downloaded state
[22m[39mAn update to UpdateToastProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mdefault rendering[2m > [22m[2mrenders with default title
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/context/UpdateToastContext.test.tsx[2m > [22m[2mUpdateToastContext[2m > [22m[2mUpdateToastProvider[2m > [22m[2mclicking Restart Now calls installUpdate
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | src/renderer/context/UpdateToastContext.test.tsx[2m > [22m[2mUpdateToastContext[2m > [22m[2mUpdateToastProvider[2m > [22m[2mclicking Restart Now calls installUpdate
[22m[39mAn update to UpdateToastProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mdefault rendering[2m > [22m[2mrenders app icon by default
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mdefault rendering[2m > [22m[2mrenders header element with titlebar class
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/context/UpdateToastContext.test.tsx[2m > [22m[2mUpdateToastContext[2m > [22m[2mUpdateToastProvider[2m > [22m[2mclicking Later hides toast but keeps pending state
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | src/renderer/context/UpdateToastContext.test.tsx[2m > [22m[2mUpdateToastContext[2m > [22m[2mUpdateToastProvider[2m > [22m[2mclicking Later hides toast but keeps pending state
[22m[39mAn update to UpdateToastProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mdefault rendering[2m > [22m[2mrenders drag region
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/unit/renderer/hooks/useGeminiIframe.test.ts[2m > [22m[2museGeminiIframe[2m > [22m[2mhandleLoad[2m > [22m[2msets success state when connectivity check passes
[22m[39m[useGeminiIframe] Checking Gemini connectivity...

[90mstdout[2m | tests/unit/renderer/hooks/useGeminiIframe.test.ts[2m > [22m[2museGeminiIframe[2m > [22m[2mhandleLoad[2m > [22m[2msets success state when connectivity check passes
[22m[39m[useGeminiIframe] Gemini iframe loaded and connectivity verified

[90mstdout[2m | tests/unit/renderer/hooks/useGeminiIframe.test.ts[2m > [22m[2museGeminiIframe[2m > [22m[2mhandleLoad[2m > [22m[2msets error state when connectivity check fails
[22m[39m[useGeminiIframe] Checking Gemini connectivity...

[90mstderr[2m | tests/unit/renderer/hooks/useGeminiIframe.test.ts[2m > [22m[2museGeminiIframe[2m > [22m[2mhandleLoad[2m > [22m[2msets error state when connectivity check fails
[22m[39m[useGeminiIframe] Connectivity check failed: Error: Network error
    at [90m/home/benjamin/repos/gemini-desktop/[39mtests/unit/renderer/hooks/useGeminiIframe.test.ts:53:41
    at [90mfile:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:145:11
    at [90mfile:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:915:26
    at [90mfile:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1209:10[90m)[39m
    at [90mfile:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:37
    at Traces.$ [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.CCmnQaNT.js:142:27[90m)[39m
    at trace [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mvitest[24m/dist/chunks/test.B8ej_ZHS.js:239:21[90m)[39m
    at runTest [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:12[90m)[39m

[90mstderr[2m | tests/unit/renderer/hooks/useGeminiIframe.test.ts[2m > [22m[2museGeminiIframe[2m > [22m[2mhandleLoad[2m > [22m[2msets error state when connectivity check fails
[22m[39m[useGeminiIframe] Gemini iframe onLoad fired but connectivity check failed

[90mstdout[2m | src/renderer/context/UpdateToastContext.test.tsx[2m > [22m[2mUpdateToastContext[2m > [22m[2mUpdateToastProvider[2m > [22m[2mclicking dismiss hides toast for available type
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | src/renderer/context/UpdateToastContext.test.tsx[2m > [22m[2mUpdateToastContext[2m > [22m[2mUpdateToastProvider[2m > [22m[2mclicking dismiss hides toast for available type
[22m[39mAn update to UpdateToastProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mcustom configuration[2m > [22m[2mrenders with custom title
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mcustom configuration[2m > [22m[2mhides icon when showIcon is false
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/unit/renderer/hooks/useGeminiIframe.test.ts[2m > [22m[2museGeminiIframe[2m > [22m[2mhandleLoad[2m > [22m[2msets error state immediately if navigator is offline
[22m[39m[useGeminiIframe] Gemini iframe onLoad fired but navigator.onLine is false

[90mstderr[2m | tests/unit/renderer/hooks/useGeminiIframe.test.ts[2m > [22m[2museGeminiIframe[2m > [22m[2mhandleError[2m > [22m[2msets error state on iframe error
[22m[39m[useGeminiIframe] Failed to load Gemini iframe

[90mstdout[2m | src/renderer/context/UpdateToastContext.test.tsx[2m > [22m[2mUpdateToastContext[2m > [22m[2museUpdateToast[2m > [22m[2mreturns context value when used inside provider
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

 [32mâœ“[39m src/renderer/context/UpdateToastContext.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[33m 592[2mms[22m[39m
[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mcustom configuration[2m > [22m[2mshows icon when showIcon is true
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/unit/renderer/hooks/useGeminiIframe.test.ts[2m > [22m[2museGeminiIframe[2m > [22m[2mretry[2m > [22m[2mreloads the page
[22m[39m[useGeminiIframe] Retrying connection - reloading page

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mcustom configuration[2m > [22m[2mmerges partial config with defaults
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/unit/renderer/NotificationSettings.test.tsx[2m > [22m[2mNotificationSettings (Task 6.5)[2m > [22m[2mAPI Interactions[2m > [22m[2mhandles API error gracefully
[22m[39mFailed to load response notifications state: Error: API Error
    at [90m/home/benjamin/repos/gemini-desktop/[39mtests/unit/renderer/NotificationSettings.test.tsx:144:67
    at [90mfile:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:145:11
    at [90mfile:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:915:26
    at [90mfile:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1209:10[90m)[39m
    at [90mfile:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:37
    at Traces.$ [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.CCmnQaNT.js:142:27[90m)[39m
    at trace [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mvitest[24m/dist/chunks/test.B8ej_ZHS.js:239:21[90m)[39m
    at runTest [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:12[90m)[39m

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mchild components[2m > [22m[2mrenders TitlebarMenu on Windows
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/unit/renderer/NotificationSettings.test.tsx[2m > [22m[2mNotificationSettings (Task 6.5)[2m > [22m[2mWithout ElectronAPI[2m > [22m[2mhandles missing electronAPI gracefully
[22m[39mAn update to NotificationSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mchild components[2m > [22m[2mrenders WindowControls on Windows
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m tests/unit/renderer/hooks/useGeminiIframe.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 315[2mms[22m[39m
[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mchild components[2m > [22m[2mhides TitlebarMenu on macOS
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mchild components[2m > [22m[2mhides WindowControls on macOS
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mmacOS-specific styling[2m > [22m[2mapplies macos class on macOS platform
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m tests/unit/renderer/NotificationSettings.test.tsx [2m([22m[2m11 tests[22m[2m)[22m[33m 626[2mms[22m[39m
[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mmacOS-specific styling[2m > [22m[2mdoes not apply macos class on Windows
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mmacOS-specific styling[2m > [22m[2mdoes not apply macos class on Linux
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mlayout structure[2m > [22m[2mhas titlebar-left section
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mlayout structure[2m > [22m[2mtitle is inside drag region
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m src/renderer/components/toast/UpdateToast.test.tsx [2m([22m[2m21 tests[22m[2m)[22m[33m 675[2mms[22m[39m
[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mmenu definitions[2m > [22m[2mpasses menu definitions to TitlebarMenu
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mupdate badge[2m > [22m[2mdoes not render update badge when no pending update
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mupdate badge[2m > [22m[2mdoes not crash when UpdateToastContext is not available
[22m[39m[Titlebar] UpdateToastContext not available: Error: Context not available
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/titlebar/Titlebar.test.tsx:198:23
    at Mock [90m(file:///home/benjamin/repos/gemini-desktop/[39mnode_modules/[4m@vitest/spy[24m/dist/index.js:285:34[90m)[39m
    at Titlebar [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/titlebar/Titlebar.tsx:47:29[90m)[39m
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25904:20[90m)[39m
    at renderWithHooks [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:7662:22[90m)[39m
    at updateFunctionComponent [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:10166:19[90m)[39m
    at beginWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:11778:18[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at performUnitOfWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17641:22[90m)[39m
    at workLoopSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17469:41[90m)[39m

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mupdate badge[2m > [22m[2mdoes not crash when UpdateToastContext is not available
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mupdate badge[2m > [22m[2mrenders update badge when hasPendingUpdate is true
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mupdate badge[2m > [22m[2mcalls openOptions with about tab when badge is clicked
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/titlebar/Titlebar.test.tsx[2m > [22m[2mTitlebar[2m > [22m[2mupdate badge[2m > [22m[2mdoes not call openOptions when installUpdate is not available
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m src/renderer/components/titlebar/Titlebar.test.tsx [2m([22m[2m23 tests[22m[2m)[22m[33m 868[2mms[22m[39m
[90mstdout[2m | tests/unit/renderer/update-notification.coordinated.test.tsx[2m > [22m[2mUpdateToastContext â†” ToastContext Integration[2m > [22m[2m7.3.1 UpdateToastContext uses showToast() for notifications[2m > [22m[2mshould show toast via ToastContext when update available
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | tests/unit/renderer/update-notification.coordinated.test.tsx[2m > [22m[2mUpdateToastContext â†” ToastContext Integration[2m > [22m[2m7.3.1 UpdateToastContext uses showToast() for notifications[2m > [22m[2mshould show toast via ToastContext when update available
[22m[39mReceived `true` for a non-boolean attribute `layout`.

If you want to write it to the DOM, pass a string instead: layout="true" or layout={value.toString()}.
An update to UpdateToastProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/unit/renderer/update-notification.coordinated.test.tsx[2m > [22m[2mUpdateToastContext â†” ToastContext Integration[2m > [22m[2m7.3.1 UpdateToastContext uses showToast() for notifications[2m > [22m[2mshould show success toast when update downloaded
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | tests/unit/renderer/update-notification.coordinated.test.tsx[2m > [22m[2mUpdateToastContext â†” ToastContext Integration[2m > [22m[2m7.3.1 UpdateToastContext uses showToast() for notifications[2m > [22m[2mshould show success toast when update downloaded
[22m[39mAn update to UpdateToastProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m tests/unit/renderer/components/common/OfflineOverlay.test.tsx [2m([22m[2m14 tests[22m[2m)[22m[33m 1162[2mms[22m[39m
       [33m[2mâœ“[22m[39m renders the Network Unavailable heading [33m 826[2mms[22m[39m
[90mstdout[2m | tests/unit/renderer/update-notification.coordinated.test.tsx[2m > [22m[2mUpdateToastContext â†” ToastContext Integration[2m > [22m[2m7.3.1 UpdateToastContext uses showToast() for notifications[2m > [22m[2mshould show error toast when update fails
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | tests/unit/renderer/update-notification.coordinated.test.tsx[2m > [22m[2mUpdateToastContext â†” ToastContext Integration[2m > [22m[2m7.3.1 UpdateToastContext uses showToast() for notifications[2m > [22m[2mshould show error toast when update fails
[22m[39mAn update to UpdateToastProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/unit/renderer/update-notification.coordinated.test.tsx[2m > [22m[2mUpdateToastContext â†” ToastContext Integration[2m > [22m[2m7.3.2 Update toast ID tracked for programmatic dismissal[2m > [22m[2mshould use stable ID for update toasts
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstderr[2m | tests/unit/renderer/update-notification.coordinated.test.tsx[2m > [22m[2mUpdateToastContext â†” ToastContext Integration[2m > [22m[2m7.3.2 Update toast ID tracked for programmatic dismissal[2m > [22m[2mshould use stable ID for update toasts
[22m[39mAn update to UpdateToastProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/unit/renderer/update-notification.coordinated.test.tsx[2m > [22m[2mUpdateToastContext â†” ToastContext Integration[2m > [22m[2m7.3.2 Update toast ID tracked for programmatic dismissal[2m > [22m[2mshould reuse same ID when update status changes
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/update-notification.coordinated.test.tsx[2m > [22m[2mUpdateToastContext â†” ToastContext Integration[2m > [22m[2m7.3.3 dismissToast(updateToastId) removes update toast[2m > [22m[2mshould remove update toast when dismissNotification called
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/update-notification.coordinated.test.tsx[2m > [22m[2mUpdateToastContext â†” ToastContext Integration[2m > [22m[2m7.3.3 dismissToast(updateToastId) removes update toast[2m > [22m[2mshould remove update toast when handleLater called
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/update-notification.coordinated.test.tsx[2m > [22m[2mUpdateToastContext â†” ToastContext Integration[2m > [22m[2m7.3.4 Update status changes update existing toast[2m > [22m[2mshould transition from available to progress to downloaded
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/update-notification.coordinated.test.tsx[2m > [22m[2mUpdateToastContext â†” ToastContext Integration[2m > [22m[2m7.3.5 Provider nesting and hook compatibility[2m > [22m[2mshould work with correct provider nesting order
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/update-notification.coordinated.test.tsx[2m > [22m[2mUpdateToastContext â†” ToastContext Integration[2m > [22m[2m7.3.5 Provider nesting and hook compatibility[2m > [22m[2mshould expose unchanged useUpdateToast API
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/update-notification.coordinated.test.tsx[2m > [22m[2mUpdateToastContext â†” ToastContext Integration[2m > [22m[2m7.3.5 Provider nesting and hook compatibility[2m > [22m[2mshould maintain hasPendingUpdate state after dismissal
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

 [32mâœ“[39m tests/unit/renderer/update-notification.coordinated.test.tsx [2m([22m[2m12 tests[22m[2m)[22m[33m 583[2mms[22m[39m
[90mstdout[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould render the options window container
[22m[39m[TextPredictionSettings] Loading initial state from main process
[TextPredictionSettings] Initial state loaded: { enabled: [33mfalse[39m, gpuEnabled: [33mfalse[39m, status: [32m'disabled'[39m }
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould render the options window container
[22m[39mFailed to load response notifications state: TypeError: window.electronAPI?.getResponseNotificationsEnabled is not a function
    at loadState [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:27:61[90m)[39m
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15718:11[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould render the titlebar with correct title
[22m[39m[TextPredictionSettings] Loading initial state from main process
[TextPredictionSettings] Initial state loaded: { enabled: [33mfalse[39m, gpuEnabled: [33mfalse[39m, status: [32m'disabled'[39m }
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould render the titlebar with correct title
[22m[39mFailed to load response notifications state: TypeError: window.electronAPI?.getResponseNotificationsEnabled is not a function
    at loadState [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:27:61[90m)[39m
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15718:11[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould render the content area
[22m[39m[TextPredictionSettings] Loading initial state from main process
[TextPredictionSettings] Initial state loaded: { enabled: [33mfalse[39m, gpuEnabled: [33mfalse[39m, status: [32m'disabled'[39m }
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould render the content area
[22m[39mFailed to load response notifications state: TypeError: window.electronAPI?.getResponseNotificationsEnabled is not a function
    at loadState [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:27:61[90m)[39m
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15718:11[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2mrendering[2m > [22m[2mshould render the theme selector container
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould display Appearance section
[22m[39m[TextPredictionSettings] Loading initial state from main process
[TextPredictionSettings] Initial state loaded: { enabled: [33mfalse[39m, gpuEnabled: [33mfalse[39m, status: [32m'disabled'[39m }
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould display Appearance section
[22m[39mFailed to load response notifications state: TypeError: window.electronAPI?.getResponseNotificationsEnabled is not a function
    at loadState [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:27:61[90m)[39m
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15718:11[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2mrendering[2m > [22m[2mshould render all three theme cards
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould render the ThemeSelector component
[22m[39m[TextPredictionSettings] Loading initial state from main process
[TextPredictionSettings] Initial state loaded: { enabled: [33mfalse[39m, gpuEnabled: [33mfalse[39m, status: [32m'disabled'[39m }
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould render the ThemeSelector component
[22m[39mFailed to load response notifications state: TypeError: window.electronAPI?.getResponseNotificationsEnabled is not a function
    at loadState [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:27:61[90m)[39m
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15718:11[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould display Hotkey Shortcuts section
[22m[39m[TextPredictionSettings] Loading initial state from main process
[TextPredictionSettings] Initial state loaded: { enabled: [33mfalse[39m, gpuEnabled: [33mfalse[39m, status: [32m'disabled'[39m }
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould display Hotkey Shortcuts section
[22m[39mFailed to load response notifications state: TypeError: window.electronAPI?.getResponseNotificationsEnabled is not a function
    at loadState [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:27:61[90m)[39m
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15718:11[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould render the IndividualHotkeyToggles component in Hotkey Shortcuts section
[22m[39m[TextPredictionSettings] Loading initial state from main process
[TextPredictionSettings] Initial state loaded: { enabled: [33mfalse[39m, gpuEnabled: [33mfalse[39m, status: [32m'disabled'[39m }
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould render the IndividualHotkeyToggles component in Hotkey Shortcuts section
[22m[39mFailed to load response notifications state: TypeError: window.electronAPI?.getResponseNotificationsEnabled is not a function
    at loadState [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:27:61[90m)[39m
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15718:11[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould display Updates section
[22m[39m[TextPredictionSettings] Loading initial state from main process
[TextPredictionSettings] Initial state loaded: { enabled: [33mfalse[39m, gpuEnabled: [33mfalse[39m, status: [32m'disabled'[39m }
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould display Updates section
[22m[39mFailed to load response notifications state: TypeError: window.electronAPI?.getResponseNotificationsEnabled is not a function
    at loadState [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:27:61[90m)[39m
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15718:11[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2mrendering[2m > [22m[2mshould display correct labels for each theme
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2moffline overlay integration[2m > [22m[2mshows OfflineOverlay when network is offline
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [90mundefined[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2mselection state[2m > [22m[2mshould show checkmark on system card when system theme is selected
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2moffline overlay integration[2m > [22m[2mshows OfflineOverlay when network is offline
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mloading state[2m > [22m[2mshows loading state initially
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mloading state[2m > [22m[2mshows loading state initially
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould have proper structure in Hotkey Shortcuts section
[22m[39m[TextPredictionSettings] Loading initial state from main process
[TextPredictionSettings] Initial state loaded: { enabled: [33mfalse[39m, gpuEnabled: [33mfalse[39m, status: [32m'disabled'[39m }
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mrendering[2m > [22m[2mshould have proper structure in Hotkey Shortcuts section
[22m[39mFailed to load response notifications state: TypeError: window.electronAPI?.getResponseNotificationsEnabled is not a function
    at loadState [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:27:61[90m)[39m
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15718:11[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2mselection state[2m > [22m[2mshould have correct aria-checked attributes
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mlayout structure[2m > [22m[2mshould have correct class names for styling
[22m[39m[TextPredictionSettings] Loading initial state from main process
[TextPredictionSettings] Initial state loaded: { enabled: [33mfalse[39m, gpuEnabled: [33mfalse[39m, status: [32m'disabled'[39m }
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mlayout structure[2m > [22m[2mshould have correct class names for styling
[22m[39mFailed to load response notifications state: TypeError: window.electronAPI?.getResponseNotificationsEnabled is not a function
    at loadState [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:27:61[90m)[39m
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15718:11[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2moffline overlay integration[2m > [22m[2mhides OfflineOverlay when network is online
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [90mundefined[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2moffline overlay integration[2m > [22m[2mhides OfflineOverlay when network is online
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mlayout structure[2m > [22m[2mshould wrap content in options-section with proper structure
[22m[39m[TextPredictionSettings] Loading initial state from main process
[TextPredictionSettings] Initial state loaded: { enabled: [33mfalse[39m, gpuEnabled: [33mfalse[39m, status: [32m'disabled'[39m }
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mlayout structure[2m > [22m[2mshould wrap content in options-section with proper structure
[22m[39mFailed to load response notifications state: TypeError: window.electronAPI?.getResponseNotificationsEnabled is not a function
    at loadState [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:27:61[90m)[39m
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15718:11[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mloading state[2m > [22m[2mhides loading when iframe loads
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mloading state[2m > [22m[2mhides loading when iframe loads
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mtheme selection[2m > [22m[2mshould render theme cards for all three options
[22m[39m[TextPredictionSettings] Loading initial state from main process
[TextPredictionSettings] Initial state loaded: { enabled: [33mfalse[39m, gpuEnabled: [33mfalse[39m, status: [32m'disabled'[39m }
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2mtheme selection[2m > [22m[2mshould render theme cards for all three options
[22m[39mFailed to load response notifications state: TypeError: window.electronAPI?.getResponseNotificationsEnabled is not a function
    at loadState [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:27:61[90m)[39m
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15718:11[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2minteraction[2m > [22m[2mshould call setTheme when light card is clicked
[22m[39m[ThemeSelector] Theme changed to: light
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2minteraction[2m > [22m[2mshould call setTheme when light card is clicked
[22m[39mAn update to ThemeProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to ThemeProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2moffline overlay integration[2m > [22m[2mrenders retry button in overlay when offline
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [90mundefined[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2moffline overlay integration[2m > [22m[2mrenders retry button in overlay when offline
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2minteraction[2m > [22m[2mshould call setTheme when dark card is clicked
[22m[39m[ThemeSelector] Theme changed to: dark
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2minteraction[2m > [22m[2mshould call setTheme when dark card is clicked
[22m[39mAn update to ThemeProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to ThemeProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2maccessibility[2m > [22m[2mshould have proper ARIA roles on theme selector
[22m[39m[TextPredictionSettings] Loading initial state from main process
[TextPredictionSettings] Initial state loaded: { enabled: [33mfalse[39m, gpuEnabled: [33mfalse[39m, status: [32m'disabled'[39m }
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/OptionsWindow.test.tsx[2m > [22m[2mOptionsWindow[2m > [22m[2maccessibility[2m > [22m[2mshould have proper ARIA roles on theme selector
[22m[39mFailed to load response notifications state: TypeError: window.electronAPI?.getResponseNotificationsEnabled is not a function
    at loadState [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:27:61[90m)[39m
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15718:11[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TextPredictionSettings2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mloading state[2m > [22m[2mhides loading when iframe loads
[22m[39m[useGeminiIframe] Checking Gemini connectivity...

 [32mâœ“[39m src/renderer/components/options/OptionsWindow.test.tsx [2m([22m[2m13 tests[22m[2m)[22m[33m 913[2mms[22m[39m
[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mloading state[2m > [22m[2mhides loading when iframe loads
[22m[39m[useGeminiIframe] Gemini iframe loaded and connectivity verified

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2moffline overlay integration[2m > [22m[2mcalls retry function (reloads page) when retry button is clicked
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [90mundefined[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2moffline overlay integration[2m > [22m[2mcalls retry function (reloads page) when retry button is clicked
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2moffline overlay integration[2m > [22m[2mcalls retry function (reloads page) when retry button is clicked
[22m[39m[useGeminiIframe] Retrying connection - reloading page

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mlayout structure[2m > [22m[2mrenders MainLayout container
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mlayout structure[2m > [22m[2mrenders MainLayout container
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2minteraction[2m > [22m[2mshould call setTheme when system card is clicked
[22m[39m[ThemeSelector] Theme changed to: dark
[ThemeSelector] Theme changed to: system
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2minteraction[2m > [22m[2mshould call setTheme when system card is clicked
[22m[39mAn update to ThemeProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to ThemeProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mlayout structure[2m > [22m[2mrenders webview-container
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mlayout structure[2m > [22m[2mrenders webview-container
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2mkeyboard accessibility[2m > [22m[2mshould have role="radiogroup" on container
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2mnetwork status transitions[2m > [22m[2mshows overlay when transitioning from online to offline
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [90mundefined[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2mnetwork status transitions[2m > [22m[2mshows overlay when transitioning from online to offline
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2mkeyboard accessibility[2m > [22m[2mshould have role="radio" on each card
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2mkeyboard accessibility[2m > [22m[2mshould have proper aria-label on each card
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mlayout structure[2m > [22m[2mrenders Titlebar via MainLayout
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mlayout structure[2m > [22m[2mrenders Titlebar via MainLayout
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2mnetwork status transitions[2m > [22m[2mhides overlay when transitioning from offline to online
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [90mundefined[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2mnetwork status transitions[2m > [22m[2mhides overlay when transitioning from offline to online
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2mkeyboard accessibility[2m > [22m[2mshould be focusable via tabIndex
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mlayout structure[2m > [22m[2mrenders iframe with correct src
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mlayout structure[2m > [22m[2mrenders iframe with correct src
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2mkeyboard accessibility[2m > [22m[2mshould activate on Enter key press
[22m[39m[ThemeSelector] Theme changed to: light
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2mkeyboard accessibility[2m > [22m[2mshould activate on Enter key press
[22m[39mAn update to ThemeProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to ThemeProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2moffline overlay content[2m > [22m[2mdisplays wifi-off icon when offline
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [90mundefined[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2moffline overlay content[2m > [22m[2mdisplays wifi-off icon when offline
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mlayout structure[2m > [22m[2mrenders iframe with required permission attributes
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mlayout structure[2m > [22m[2mrenders iframe with required permission attributes
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2mkeyboard accessibility[2m > [22m[2mshould activate on Space key press
[22m[39m[ThemeSelector] Theme changed to: dark
[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstderr[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2mkeyboard accessibility[2m > [22m[2mshould activate on Space key press
[22m[39mAn update to ThemeProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to ThemeProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mtheme integration[2m > [22m[2mapplies data-theme attribute to root element
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mtheme integration[2m > [22m[2mapplies data-theme attribute to root element
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2moffline overlay content[2m > [22m[2mdisplays network unavailable message when offline
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [90mundefined[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/OfflineHandling.test.tsx[2m > [22m[2mOffline Handling (Coordinated)[2m > [22m[2moffline overlay content[2m > [22m[2mdisplays network unavailable message when offline
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2mvisual elements[2m > [22m[2mshould render theme preview for each card
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | src/renderer/components/options/ThemeSelector.test.tsx[2m > [22m[2mThemeSelector[2m > [22m[2mvisual elements[2m > [22m[2mshould render icons for each theme
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mtheme integration[2m > [22m[2moffline state[2m > [22m[2mrenders OfflineOverlay when offline
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

 [32mâœ“[39m src/renderer/components/options/ThemeSelector.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[33m 1682[2mms[22m[39m
       [33m[2mâœ“[22m[39m should render the theme selector container [33m 494[2mms[22m[39m
[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mtheme integration[2m > [22m[2moffline state[2m > [22m[2mrenders OfflineOverlay when offline
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

 [32mâœ“[39m tests/unit/renderer/OfflineHandling.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[33m 1149[2mms[22m[39m
       [33m[2mâœ“[22m[39m shows OfflineOverlay when network is offline [33m 306[2mms[22m[39m
 [32mâœ“[39m src/renderer/components/options/OptionsWindowTitlebar.test.tsx [2m([22m[2m12 tests[22m[2m)[22m[33m 431[2mms[22m[39m
[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mtheme integration[2m > [22m[2moffline state[2m > [22m[2mdoes not render OfflineOverlay when online
[22m[39m[useUpdateNotifications] Dev mode check: [33mtrue[39m { DEV: [33mtrue[39m, MODE: [32m'test'[39m, hostname: [32m'localhost'[39m }
[useUpdateNotifications] Creating __testUpdateToast helper

[90mstdout[2m | tests/unit/renderer/App.test.tsx[2m > [22m[2mApp[2m > [22m[2mtheme integration[2m > [22m[2moffline state[2m > [22m[2mdoes not render OfflineOverlay when online
[22m[39m[ThemeContext] Theme initialized: { preference: [32m'system'[39m, effectiveTheme: [32m'dark'[39m }

 [32mâœ“[39m tests/unit/renderer/App.test.tsx [2m([22m[2m11 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[33m 1301[2mms[22m[39m
       [33m[2mâœ“[22m[39m shows loading state initially [33m 337[2mms[22m[39m
 [32mâœ“[39m src/renderer/components/ErrorBoundary.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 999[2mms[22m[39m
     [33m[2mâœ“[22m[39m shows reload button in fallback UI [33m 572[2mms[22m[39m
[90mstdout[2m | src/renderer/hooks/useGeminiIframe.test.ts[2m > [22m[2museGeminiIframe[2m > [22m[2mhandleLoad sets loading to false and clears error
[22m[39m[useGeminiIframe] Checking Gemini connectivity...

[90mstdout[2m | src/renderer/hooks/useGeminiIframe.test.ts[2m > [22m[2museGeminiIframe[2m > [22m[2mhandleLoad sets loading to false and clears error
[22m[39m[useGeminiIframe] Gemini iframe loaded and connectivity verified

 [32mâœ“[39m src/renderer/utils/logger.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 42[2mms[22m[39m
[90mstderr[2m | src/renderer/hooks/useGeminiIframe.test.ts[2m > [22m[2museGeminiIframe[2m > [22m[2mhandleError sets loading to false and sets error message
[22m[39m[useGeminiIframe] Failed to load Gemini iframe

[90mstdout[2m | src/renderer/hooks/useGeminiIframe.test.ts[2m > [22m[2museGeminiIframe[2m > [22m[2mretry calls window.location.reload
[22m[39m[useGeminiIframe] Retrying connection - reloading page

[90mstderr[2m | src/renderer/hooks/useGeminiIframe.test.ts[2m > [22m[2museGeminiIframe[2m > [22m[2mretry calls window.location.reload
[22m[39m[useGeminiIframe] Failed to load Gemini iframe

[90mstdout[2m | src/renderer/hooks/useGeminiIframe.test.ts[2m > [22m[2museGeminiIframe[2m > [22m[2mhandleLoad after error clears error state
[22m[39m[useGeminiIframe] Checking Gemini connectivity...

[90mstderr[2m | src/renderer/hooks/useGeminiIframe.test.ts[2m > [22m[2museGeminiIframe[2m > [22m[2mhandleLoad after error clears error state
[22m[39m[useGeminiIframe] Failed to load Gemini iframe

[90mstdout[2m | src/renderer/hooks/useGeminiIframe.test.ts[2m > [22m[2museGeminiIframe[2m > [22m[2mhandleLoad after error clears error state
[22m[39m[useGeminiIframe] Gemini iframe loaded and connectivity verified

 [32mâœ“[39m src/renderer/hooks/useWindowControls.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[32m 173[2mms[22m[39m
 [32mâœ“[39m src/renderer/hooks/useGeminiIframe.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 255[2mms[22m[39m
 [32mâœ“[39m tests/unit/renderer/utils/platform.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 28[2mms[22m[39m
[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mstructure[2m > [22m[2mrenders main-layout container
[22m[39m[Titlebar] UpdateToastContext not available: Error: useUpdateToast must be used within an UpdateToastProvider
    at useUpdateToast [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/context/UpdateToastContext.tsx:267:15[90m)[39m
    at Titlebar [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/titlebar/Titlebar.tsx:47:29[90m)[39m
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25904:20[90m)[39m
    at renderWithHooks [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:7662:22[90m)[39m
    at updateFunctionComponent [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:10166:19[90m)[39m
    at beginWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:11778:18[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at performUnitOfWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17641:22[90m)[39m
    at workLoopSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17469:41[90m)[39m
    at renderRootSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17450:11[90m)[39m

[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mstructure[2m > [22m[2mrenders main-layout container
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mstructure[2m > [22m[2mrenders Titlebar component
[22m[39m[Titlebar] UpdateToastContext not available: Error: useUpdateToast must be used within an UpdateToastProvider
    at useUpdateToast [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/context/UpdateToastContext.tsx:267:15[90m)[39m
    at Titlebar [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/titlebar/Titlebar.tsx:47:29[90m)[39m
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25904:20[90m)[39m
    at renderWithHooks [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:7662:22[90m)[39m
    at updateFunctionComponent [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:10166:19[90m)[39m
    at beginWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:11778:18[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at performUnitOfWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17641:22[90m)[39m
    at workLoopSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17469:41[90m)[39m
    at renderRootSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17450:11[90m)[39m

[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mstructure[2m > [22m[2mrenders Titlebar component
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mstructure[2m > [22m[2mrenders main content area
[22m[39m[Titlebar] UpdateToastContext not available: Error: useUpdateToast must be used within an UpdateToastProvider
    at useUpdateToast [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/context/UpdateToastContext.tsx:267:15[90m)[39m
    at Titlebar [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/titlebar/Titlebar.tsx:47:29[90m)[39m
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25904:20[90m)[39m
    at renderWithHooks [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:7662:22[90m)[39m
    at updateFunctionComponent [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:10166:19[90m)[39m
    at beginWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:11778:18[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at performUnitOfWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17641:22[90m)[39m
    at workLoopSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17469:41[90m)[39m
    at renderRootSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17450:11[90m)[39m

[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mstructure[2m > [22m[2mrenders main content area
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mchildren[2m > [22m[2mrenders children inside main content area
[22m[39m[Titlebar] UpdateToastContext not available: Error: useUpdateToast must be used within an UpdateToastProvider
    at useUpdateToast [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/context/UpdateToastContext.tsx:267:15[90m)[39m
    at Titlebar [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/titlebar/Titlebar.tsx:47:29[90m)[39m
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25904:20[90m)[39m
    at renderWithHooks [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:7662:22[90m)[39m
    at updateFunctionComponent [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:10166:19[90m)[39m
    at beginWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:11778:18[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at performUnitOfWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17641:22[90m)[39m
    at workLoopSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17469:41[90m)[39m
    at renderRootSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17450:11[90m)[39m

[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mchildren[2m > [22m[2mrenders children inside main content area
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mchildren[2m > [22m[2mrenders multiple children
[22m[39m[Titlebar] UpdateToastContext not available: Error: useUpdateToast must be used within an UpdateToastProvider
    at useUpdateToast [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/context/UpdateToastContext.tsx:267:15[90m)[39m
    at Titlebar [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/titlebar/Titlebar.tsx:47:29[90m)[39m
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25904:20[90m)[39m
    at renderWithHooks [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:7662:22[90m)[39m
    at updateFunctionComponent [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:10166:19[90m)[39m
    at beginWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:11778:18[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at performUnitOfWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17641:22[90m)[39m
    at workLoopSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17469:41[90m)[39m
    at renderRootSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17450:11[90m)[39m

[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mchildren[2m > [22m[2mrenders multiple children
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mchildren[2m > [22m[2mrenders without children
[22m[39m[Titlebar] UpdateToastContext not available: Error: useUpdateToast must be used within an UpdateToastProvider
    at useUpdateToast [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/context/UpdateToastContext.tsx:267:15[90m)[39m
    at Titlebar [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/titlebar/Titlebar.tsx:47:29[90m)[39m
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25904:20[90m)[39m
    at renderWithHooks [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:7662:22[90m)[39m
    at updateFunctionComponent [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:10166:19[90m)[39m
    at beginWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:11778:18[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at performUnitOfWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17641:22[90m)[39m
    at workLoopSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17469:41[90m)[39m
    at renderRootSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17450:11[90m)[39m

[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mchildren[2m > [22m[2mrenders without children
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mchildren[2m > [22m[2mrenders undefined children
[22m[39m[Titlebar] UpdateToastContext not available: Error: useUpdateToast must be used within an UpdateToastProvider
    at useUpdateToast [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/context/UpdateToastContext.tsx:267:15[90m)[39m
    at Titlebar [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/titlebar/Titlebar.tsx:47:29[90m)[39m
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25904:20[90m)[39m
    at renderWithHooks [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:7662:22[90m)[39m
    at updateFunctionComponent [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:10166:19[90m)[39m
    at beginWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:11778:18[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at performUnitOfWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17641:22[90m)[39m
    at workLoopSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17469:41[90m)[39m
    at renderRootSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17450:11[90m)[39m

[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mchildren[2m > [22m[2mrenders undefined children
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mchildren[2m > [22m[2mrenders null children
[22m[39m[Titlebar] UpdateToastContext not available: Error: useUpdateToast must be used within an UpdateToastProvider
    at useUpdateToast [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/context/UpdateToastContext.tsx:267:15[90m)[39m
    at Titlebar [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/titlebar/Titlebar.tsx:47:29[90m)[39m
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25904:20[90m)[39m
    at renderWithHooks [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:7662:22[90m)[39m
    at updateFunctionComponent [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:10166:19[90m)[39m
    at beginWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:11778:18[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at performUnitOfWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17641:22[90m)[39m
    at workLoopSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17469:41[90m)[39m
    at renderRootSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17450:11[90m)[39m

[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mchildren[2m > [22m[2mrenders null children
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m src/renderer/components/titlebar/WindowControls.test.tsx [2m([22m[2m11 tests[22m[2m)[22m[33m 1633[2mms[22m[39m
       [33m[2mâœ“[22m[39m renders controls on Windows [33m 1028[2mms[22m[39m
[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mlayout order[2m > [22m[2mrenders Titlebar before main content
[22m[39m[Titlebar] UpdateToastContext not available: Error: useUpdateToast must be used within an UpdateToastProvider
    at useUpdateToast [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/context/UpdateToastContext.tsx:267:15[90m)[39m
    at Titlebar [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/titlebar/Titlebar.tsx:47:29[90m)[39m
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25904:20[90m)[39m
    at renderWithHooks [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:7662:22[90m)[39m
    at updateFunctionComponent [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:10166:19[90m)[39m
    at beginWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:11778:18[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at performUnitOfWork [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17641:22[90m)[39m
    at workLoopSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17469:41[90m)[39m
    at renderRootSync [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17450:11[90m)[39m

[90mstderr[2m | src/renderer/components/layout/MainLayout.test.tsx[2m > [22m[2mMainLayout[2m > [22m[2mlayout order[2m > [22m[2mrenders Titlebar before main content
[22m[39mAn update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Titlebar inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m src/renderer/components/layout/MainLayout.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 601[2mms[22m[39m
 [32mâœ“[39m src/renderer/components/GeminiErrorBoundary.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 951[2mms[22m[39m
     [33m[2mâœ“[22m[39m renders reload button in default fallback [33m 688[2mms[22m[39m
 [32mâœ“[39m src/renderer/utils/testIds.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m src/renderer/components/options/AutoUpdateToggle.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 894[2mms[22m[39m
     [33m[2mâœ“[22m[39m renders toggle with enabled state loaded from API [33m 503[2mms[22m[39m
 [32mâœ“[39m src/renderer/hooks/useNetworkStatus.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 84[2mms[22m[39m
 [32mâœ“[39m tests/unit/renderer/components/LinuxHotkeyNotice.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 11079[2mms[22m[39m
       [33m[2mâœ“[22m[39m should not show toast on non-Linux [33m 1283[2mms[22m[39m
       [33m[2mâœ“[22m[39m should NOT show toast when all hotkeys succeed (silent success) [33m 1219[2mms[22m[39m
       [33m[2mâœ“[22m[39m should show toast with failed shortcut names when partial failure occurs [33m 1055[2mms[22m[39m
       [33m[2mâœ“[22m[39m should show toast listing multiple failed shortcuts [33m 1069[2mms[22m[39m
       [33m[2mâœ“[22m[39m should show toast when portal is unavailable [33m 1036[2mms[22m[39m
       [33m[2mâœ“[22m[39m should show toast on X11 (existing behavior) [33m 1041[2mms[22m[39m
       [33m[2mâœ“[22m[39m should show warning toast when IPC call fails [33m 1053[2mms[22m[39m
       [33m[2mâœ“[22m[39m should show warning toast when electronAPI is not available [33m 1063[2mms[22m[39m
       [33m[2mâœ“[22m[39m should only show toast once even in strict mode [33m 2250[2mms[22m[39m
[90mstdout[2m | src/renderer/components/options/OptionsWindow.coverage.test.tsx[2m > [22m[2mOptionsWindow Coverage[2m > [22m[2mupdates tab when hash changes externally
[22m[39m[TextPredictionSettings] Loading initial state from main process
[TextPredictionSettings] Initial state loaded: { enabled: [33mfalse[39m, gpuEnabled: [33mfalse[39m, status: [32m'disabled'[39m }

[90mstderr[2m | src/renderer/components/options/OptionsWindow.coverage.test.tsx[2m > [22m[2mOptionsWindow Coverage[2m > [22m[2mupdates tab when hash changes externally
[22m[39mFailed to load response notifications state: TypeError: window.electronAPI?.getResponseNotificationsEnabled is not a function
    at loadState [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:27:61[90m)[39m
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15718:11[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m

[90mstdout[2m | src/renderer/components/options/OptionsWindow.coverage.test.tsx[2m > [22m[2mOptionsWindow Coverage[2m > [22m[2mupdates hash when tab is clicked
[22m[39m[TextPredictionSettings] Loading initial state from main process
[TextPredictionSettings] Initial state loaded: { enabled: [33mfalse[39m, gpuEnabled: [33mfalse[39m, status: [32m'disabled'[39m }

[90mstderr[2m | src/renderer/components/options/OptionsWindow.coverage.test.tsx[2m > [22m[2mOptionsWindow Coverage[2m > [22m[2mupdates hash when tab is clicked
[22m[39mFailed to load response notifications state: TypeError: window.electronAPI?.getResponseNotificationsEnabled is not a function
    at loadState [90m(/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:27:61[90m)[39m
    at [90m/home/benjamin/repos/gemini-desktop/[39msrc/renderer/components/options/NotificationSettings.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15718:11[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/home/benjamin/repos/gemini-desktop/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m

 [32mâœ“[39m src/renderer/components/options/OptionsWindow.coverage.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[32m 185[2mms[22m[39m
 [32mâœ“[39m src/renderer/components/titlebar/TitlebarMenu.coverage.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[32m 120[2mms[22m[39m
 [32mâœ“[39m src/renderer/components/options/AboutSection.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 155[2mms[22m[39m
 [32mâœ“[39m src/renderer/components/titlebar/menuTypes.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/renderer/hooks/useOptionsWindow.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[32m 31[2mms[22m[39m
 [32mâœ“[39m src/renderer/hooks/useWebviewInit.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mâœ“[39m src/renderer/components/common/OfflineOverlay.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 87[2mms[22m[39m

[2m Test Files [22m [1m[32m47 passed[39m[22m[90m (47)[39m
[2m      Tests [22m [1m[32m560 passed[39m[22m[2m | [22m[33m5 skipped[39m[90m (565)[39m
[2m   Start at [22m 11:59:13
[2m   Duration [22m 15.83s[2m (transform 14.27s, setup 15.54s, import 33.04s, tests 40.90s, environment 104.91s)[22m

